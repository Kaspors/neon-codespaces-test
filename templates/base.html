<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
    <title>People DB</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 2rem auto; max-width: 880px; }
      header { display: flex; align-items: baseline; gap: 1rem; margin-bottom: 1rem; }
      h1 { margin: 0; }
      form.inline { display: inline; }
      .card { border: 1px solid #ddd; border-radius: 12px; padding: 1rem; margin: 1rem 0; }
      .row { display: grid; grid-template-columns: 1.2fr 1.4fr 1fr 120px; gap: .75rem; align-items: center; padding: .5rem 0; border-bottom: 1px dashed #eee; }
      .row.header { font-weight: 600; border-bottom: 2px solid #ddd; }
      .flash { padding:.75rem 1rem; border-radius: 8px; margin: .5rem 0;}
      .flash.success { background:#eefbea; border:1px solid #b9e5b0;}
      .flash.error { background:#fff1f1; border:1px solid #ffcccc;}
      .muted { color:#666; font-size: .9rem; }
      input[type=text], input[type=email] { width: 100%; padding: .55rem .6rem; border:1px solid #ccc; border-radius: 8px; }
      button { padding:.5rem .8rem; border:1px solid #bbb; background:#f8f8f8; border-radius: 8px; cursor: pointer; }
      button.primary { background:#1f6feb; border-color:#1f6feb; color:white; }
      button.danger { background:#e5534b; border-color:#e5534b; color:white; }
      .actions { display:flex; gap:.5rem; justify-content:flex-end; }
      .topbar { display:flex; gap:1rem; align-items:center; justify-content:space-between; }
    </style>
  </head>
  <body>
    <header class="topbar">
      <h1>People</h1>
      <div>
        <form class="inline" action="{{ url_for('reset') }}" method="post" onsubmit="return confirm('Drop & recreate table?')">
          <button title="Drop & recreate table">Reset</button>
        </form>
      </div>
    </header>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for cat, msg in messages %}
          <div class="flash {{ cat }}">{{ msg }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </body>
</html>
